<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <style type="text/css">
        td {
            width: 45px;
            height: 45px;
            background-image: url(star_1.jpg);
        }
    </style>
    <script type="text/javascript">
        window.onload = function () {
            var tds = document.getElementsByTagName('td');

            var imgStar = document.createElement('img');
            imgStar.src = "star.jpg"
            var imgStar_1 = document.createElement('img');
            imgStar_1.src = "star_1.jpg"

            for (var i = 0; i < tds.length; i++){
                //打分
                tds[i].onmouseover = function () {
                    for (var j = 0; j < tds.length; j++){
                        tds[j].style.backgroundImage = imgStar;//已替换图片的方式来做
                        if (tds[j] == this){
                            break;
                        };
                    }
                };

                //清除打星结果
                tds[i].onmouseout = function () {
                    var isclickedIndex = -1;
                    for (var j = 0; j < tds.length; j++) {
                        //tds[j].style.backgroundPosition = '0 0';
                        tds[j].style.backgroundImage = url(star_1.jpg);//设置图片
                    }

                    //设置具有isclicked 属性的Td以及之前的td的背景图片为“黄色五角星”
                    //记住分数结果 
                    for (var c = 0; c < isclickedIndex; c++) {
                        tds[c].style.backgroundPosition = '0-50px';
                    }
                };

                //注册一个单击事件
                tds[i].onclick = function () {
                    //1.清空所有的td的isclicked属性
                    for (var j = 0; j < tds.length; j++) {
                        tds[j].removeAttribute('isclicked');
                    }
                    //2.设置当前被点击的isclicked属性
                    this.setAttribute('isclicked', 'isclicked');
                }
            }
        };
    </script>
</head>
<body>
    <table border="1" cellpadding="2" cellspacing="2">
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    </table>
</body>
</html>